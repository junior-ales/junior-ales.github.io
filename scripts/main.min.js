function EmailSender(e){function t(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length>0&&(t+="&"),t+=encodeURI(n+"="+e[n]));return t}function n(e){var t=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i;return t.test(e)}function s(t){return function(){200===t.status?(e.senderEmail.value="",e.senderMessage.value="",a.success()):a.error()}}var a=new Notifier(e);this.send=function(l){if(l.preventDefault(),!e.senderMessage.value||!n(e.senderEmail.value))return void a.error("Please add a valid email and a message");var i=t({message:e.senderMessage.value,_replyto:e.senderEmail.value,_subject:"New Message from Cover Page",_gotcha:e.senderGotcha.value}),r=new XMLHttpRequest;r.open("POST","//formspree.io/edilson.ales.jr@gmail.com",!0),r.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01"),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r.onload=s(r);try{r.send(i)}catch(o){a.error(),console.log(o)}}}function HomePage(e,t){this.senderGotcha=e.getElementById("sender-gotcha"),this.alertContentElem=e.getElementById("alert-content"),this.alertElem=e.getElementById("alert-box"),this.senderMessage=e.getElementById("sender-message"),this.senderEmailButton=e.getElementById("send-email-button"),this.senderEmail=e.getElementById("sender-email"),this.emailMeSection=e.getElementById("email-me"),this.emailLink=e.getElementById("email-link"),this.titleElem=e.getElementById("title"),this.socialMediaButtons=e.getElementById("social-media-buttons"),this.footerElem=e.getElementById("main-footer"),this.contentElem=e.getElementById("content"),this.viewLessElem=e.getElementById("view-less"),this.viewMoreElem=e.getElementById("view-more"),this.largestDimension=function(){var n=t,s="inner";return"innerWidth"in t||(s="client",n=e.documentElement||e.body),n[s+"Width"]>n[s+"Height"]?n[s+"Width"]:n[s+"Height"]}()}function bindPageEvents(e,t,n){function s(){e.socialMediaButtons.style.display="none",e.titleElem.style.display="none",e.footerElem.style.display="none",e.contentElem.style.position="initial",e.contentElem.style["-webkit-transform"]="translateY(0)",e.contentElem.style["-moz-transform"]="translateY(0)",e.contentElem.style["-ms-transform"]="translateY(0)",e.contentElem.style["-o-transform"]="translateY(0)",e.contentElem.style.transform="translateY(0)",setTimeout(function(){e.viewLessElem.style.display="block"},550)}function a(){e.socialMediaButtons.style.display=null,e.titleElem.style.display=null,e.contentElem.style["-webkit-transform"]="translateY("+e.largestDimension+"px)",e.contentElem.style["-moz-transform"]="translateY("+e.largestDimension+"px)",e.contentElem.style["-ms-transform"]="translateY("+e.largestDimension+"px)",e.contentElem.style["-o-transform"]="translateY("+e.largestDimension+"px)",e.contentElem.style.transform="translateY("+e.largestDimension+"px)",e.contentElem.style.position="fixed",e.viewLessElem.style.display="none",e.footerElem.style.display=null}function l(e,t){return function(){n.track(e),t.apply(this,arguments)}}function i(){s(),setTimeout(function(){e.emailMeSection.scrollIntoView()},550)}function r(){e.viewLessElem.style.opacity=1}function o(){e.viewLessElem.style.opacity=.2}e.viewMoreElem.onclick=l("coverpage:expand-details",s),e.viewLessElem.onclick=l("coverpage:collapse-details",a),e.emailLink.onclick=l("coverpage:header:email",i),e.senderEmail.onfocus=o,e.senderMessage.onfocus=o,e.senderEmail.onblur=r,e.senderMessage.onblur=r,e.senderEmailButton.onclick=l("coverpage:email-sender:send",t.send),function(){var e=document.querySelectorAll("*[data-track-identifier]");n.trackElems(e).as("coverpage:").andIds()}()}function initializeMainContent(e){e.contentElem.style["-webkit-transform"]="translateY("+e.largestDimension+"px)",e.contentElem.style["-moz-transform"]="translateY("+e.largestDimension+"px)",e.contentElem.style["-ms-transform"]="translateY("+e.largestDimension+"px)",e.contentElem.style["-o-transform"]="translateY("+e.largestDimension+"px)",e.contentElem.style.transform="translateY("+e.largestDimension+"px)",setTimeout(function(){e.contentElem.style.visibility="visible"},550)}function Notifier(e){function t(){e.alertElem.style["z-index"]=15,e.alertElem.style.opacity=1,setTimeout(function(){e.alertElem.style.opacity=0,e.alertElem.style["z-index"]=0},5e3)}var n=new Tracker(window.mixpanel);this.success=function(){e.alertContentElem.innerHTML="Email Sent Successfuly",e.alertElem.style["background-color"]="rgb(48, 93, 84)",t(),n.track("coverpage:email-sender:success")},this.error=function(s){e.alertContentElem.innerHTML=s||"Oops! Something went wrong.<br>Please try again",e.alertElem.style["background-color"]="rgb(242, 105, 125)",t();var a="coverpage:email-sender:failure:";a+=s?"fields":"exception",n.track(a)}}function Tracker(e){var t=function(t){e.track(t)},n=function(e){var t=this;return{as:function(n){e.onclick=function(){t.track(n)}}}};return{track:t,trackElem:n,trackElems:function(e){var t=this;return{as:function(n){return Array.prototype.map.call(e,function(e){t.trackElem(e).as(n)}),{andIds:function(){Array.prototype.map.call(e,function(e){t.trackElem(e).as(n+e.dataset.trackIdentifier)})}}}}}}}document.addEventListener("DOMContentLoaded",function(){var e=new HomePage(document,window),t=new EmailSender(e),n=new Tracker(window.mixpanel);bindPageEvents(e,t,n),initializeMainContent(e),n.track("coverpage:visit")});