!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},a={},r={}.hasOwnProperty,s={},i=function(e,t){var a=0;t&&(t.indexOf(!1)&&(a="components/".length),t.indexOf("/",a)>0&&(t=t.substring(a,t.indexOf("/",a))));var r=s[e+"/index.js"]||s[t+"/deps/"+e+"/index.js"];return r?"components/"+r.substring(0,r.length-".js".length):e},o=function(){var e=/^\.\.?(\/|$)/;return function(t,a){var r,s,i=[];r=(e.test(a)?t+"/"+a:a).split("/");for(var o=0,n=r.length;n>o;o++)s=r[o],".."===s?i.pop():"."!==s&&""!==s&&i.push(s);return i.join("/")}}(),n=function(e){return e.split("/").slice(0,-1).join("/")},l=function(t){return function(a){var r=o(n(t),a);return e.require(r,t)}},c=function(e,t){var r={id:e,exports:{}};return a[e]=r,t(r.exports,l(e),r),r.exports},d=function(e,s){var n=o(e,".");if(null==s&&(s="/"),n=i(e,s),r.call(a,n))return a[n].exports;if(r.call(t,n))return c(n,t[n]);var l=o(n,"./index");if(r.call(a,l))return a[l].exports;if(r.call(t,l))return c(l,t[l]);throw new Error('Cannot find module "'+e+'" from "'+s+'"')};d.alias=function(e,t){s[t]=e},d.register=d.define=function(e,a){if("object"==typeof e)for(var s in e)r.call(e,s)&&(t[s]=e[s]);else t[e]=a},d.list=function(){var e=[];for(var a in t)r.call(t,a)&&e.push(a);return e},d.brunch=!0,e.require=d}}(),require.register("model/post",function(e,t,a){"use strict";var r=t("./posts"),s=function(e,t){return t.slice().sort(function(t,a){return t[e]>a[e]?1:t[e]<a[e]?-1:0})},i=function(e){return{"most-viewed":s("viewsRanking",e),latest:s("pubdate",e).reverse()}};a.exports={current:function(e){return{sortBy:function(t){return i(e)[t]}}},getAllSortedBy:function(e){return i(r)[e]},getByName:function(e){return r.filter(function(t){return t.name===e})[0]}}}),require.register("model/posts",function(e,t,a){"use strict";a.exports=[{id:0,name:"lunch-by-the-bay",title:"Lunch by the Bay",dir:"posts/2015/05/22/",htmlContent:'<p>Não é difícil ver alguém que bate no peito e diz com maior orgulho Bitters health goth cardigan, vinyl listicle street art letterpress gastropub meggings Vice sartorial cred. Fap Shoreditch lumbersexual semiotics deep v mlkshk. Ethical sartorial pour-over artisan, chia typewriter cronut messenger bag single-origin coffee mlkshk Brooklyn. Raw denim cold-pressed McSweeney"s cardigan, blog put a bird on it meditation forage freegan bitters High Life dreamcatcher whatever. Swag asymmetrical cronut keffiyeh. Umami Odd Future Bushwick, pop-up artisan mustache paleo migas irony organic tote bag sartorial slow-carb. Direct trade retro chillwave sustainable street art, Vice sartorial.</p>',location:"San Francisco, USA",pubdate:new Date("2015-05-23"),viewsRanking:1},{id:1,name:"origami-party",title:"Origami Party",dir:"posts/2015/04/13/",htmlContent:'<p>Bitters health goth cardigan,</p> <p>vinyl listicle street art letterpress gastropub meggings Vice sartorial cred. Fap Shoreditch lumbersexual semiotics deep v mlkshk. Ethical sartorial pour-over artisan, chia typewriter cronut messenger bag single-origin coffee mlkshk Brooklyn. Raw denim cold-pressed McSweeney"s cardigan, blog put a </p><p>bird on it meditation forage freegan bitters High Life dreamcatcher whatever. Swag asymmetrical cronut keffiyeh. Umami Odd Future Bushwick, pop-up artisan mustache paleo migas irony organic tote bag sartorial slow-carb. Direct trade retro chillwave sustainable street art, Vice sartorial.</p>',location:"Pune, India",pubdate:new Date("2015-04-14"),viewsRanking:3},{id:2,name:"floating-flowers",title:"Floating Flowers",dir:"posts/2015/07/17/",htmlContent:'<p>Bitters health goth cardigan,<br /> vinyl listicle street art letterpress gastropub meggings Vice sartorial cred. Fap Shoreditch lumbersexual semiotics deep v mlkshk. Ethical sartorial pour-over artisan, chia typewriter cronut messenger bag single-origin coffee mlkshk Brooklyn. Raw denim cold-pressed McSweeney"s cardigan, blog put a bird on it meditation forage freegan bitters High Life dreamcatcher whatever. Swag asymmetrical cronut keffiyeh. Umami Odd Future Bushwick, pop-up artisan mustache paleo migas irony organic tote bag sartorial slow-carb. Direct trade retro chillwave sustainable street art, Vice sartorial.</p>',location:"Amsterdam, Netherlands",pubdate:new Date("2015-07-18"),viewsRanking:2},{id:3,name:"lunch-by-the-bay",title:"Lunch by the Bay",dir:"posts/2015/05/22/",htmlContent:'<p>Não é difícil ver alguém que bate no peito e diz com maior orgulho Bitters health goth cardigan, vinyl listicle street art letterpress gastropub meggings Vice sartorial cred. Fap Shoreditch lumbersexual semiotics deep v mlkshk. Ethical sartorial pour-over artisan, chia typewriter cronut messenger bag single-origin coffee mlkshk Brooklyn. Raw denim cold-pressed McSweeney"s cardigan, blog put a bird on it meditation forage freegan bitters High Life dreamcatcher whatever. Swag asymmetrical cronut keffiyeh. Umami Odd Future Bushwick, pop-up artisan mustache paleo migas irony organic tote bag sartorial slow-carb. Direct trade retro chillwave sustainable street art, Vice sartorial.</p>',location:"San Francisco, USA",pubdate:new Date("2015-05-19"),viewsRanking:5},{id:4,name:"origami-party",title:"Origami Party",dir:"posts/2015/04/13/",htmlContent:'<p>Bitters health goth cardigan,</p> <p>vinyl listicle street art letterpress gastropub meggings Vice sartorial cred. Fap Shoreditch lumbersexual semiotics deep v mlkshk. Ethical sartorial pour-over artisan, chia typewriter cronut messenger bag single-origin coffee mlkshk Brooklyn. Raw denim cold-pressed McSweeney"s cardigan, blog put a </p><p>bird on it meditation forage freegan bitters High Life dreamcatcher whatever. Swag asymmetrical cronut keffiyeh. Umami Odd Future Bushwick, pop-up artisan mustache paleo migas irony organic tote bag sartorial slow-carb. Direct trade retro chillwave sustainable street art, Vice sartorial.</p>',location:"Pune, India",pubdate:new Date("2015-04-11"),viewsRanking:4}]}),require.register("views/indexView",function(e,t,a){"use strict";var r=t("model/post"),s=t("./postList"),i=3,o=React.createClass({displayName:"SortingOptions",handleClick:function(e){this.props.onSortingChange(e.target.dataset.sortingOption)},render:function(){var e="post-list__sorting",t="post-list__sorting";return"latest"===this.props.sortBy?e="post-list__sorting--active":t="post-list__sorting--active",React.createElement("ul",{className:"post-list"},React.createElement("li",{className:t},React.createElement("button",{onClick:this.handleClick,className:"post-list__button","data-sorting-option":"most-viewed"},"most viewed")),React.createElement("li",{className:"post-list__sorting--separator"},"|"),React.createElement("li",{className:e},React.createElement("button",{"data-sorting-option":"latest",onClick:this.handleClick,className:"post-list__button"},"latest")))}}),n=React.createClass({displayName:"LoadMorePosts",handleClick:function(){this.props.onLoadMoreClick()},render:function(){return React.createElement("div",{className:"load-more-posts"},React.createElement("button",{className:"load-more-posts__button",onClick:this.handleClick},"load more posts"))}}),l=React.createClass({displayName:"PostsContainer",getInitialState:function(){var e=r.getAllSortedBy("latest"),t=e.length<i?e.length:i;return{sortBy:"latest",postsLoaded:t,allPostsLoaded:!1,posts:e.slice(0,t)}},handleSortingChange:function(e){this.setState({sortBy:e,posts:r.getAllSortedBy(e).slice(0,this.state.postsLoaded)})},handleLoadMorePosts:function(){if(!this.state.allPostsLoaded){var e,t,a=r.getAllSortedBy(this.state.sortBy);a.length>=this.state.postsLoaded+i?(e=this.state.postsLoaded+i,t=!1):(e=a.length,t=!0),this.setState({postsLoaded:e,posts:r.getAllSortedBy(this.state.sortBy).slice(0,e),allPostsLoaded:t})}},render:function(){var e=this.state.allPostsLoaded?null:React.createElement(n,{onLoadMoreClick:this.handleLoadMorePosts});return React.createElement("section",{className:"posts-container"},React.createElement(o,{sortBy:this.state.sortBy,onSortingChange:this.handleSortingChange}),React.createElement(s,{listTitle:"latest photos",posts:this.state.posts}),e)}}),c=React.createClass({displayName:"MostViewedPosts",shouldLoadMostViewedPosts:function(){return window.innerWidth>1075},getInitialState:function(){return{visible:this.shouldLoadMostViewedPosts()}},handleResize:function(e){this.setState({visible:this.shouldLoadMostViewedPosts()})},componentDidMount:function(){window.addEventListener("resize",this.handleResize)},componentWillUnmount:function(){window.removeEventListener("resize",this.handleResize)},render:function(){return this.state.visible?React.createElement(s,{listTitle:"most viewed photos",posts:r.getAllSortedBy("most-viewed").slice(0,2)}):null}}),d={init:function(){React.render(React.createElement(l,null),document.getElementById("home-page-posts")),React.render(React.createElement(c,null),document.getElementById("most-viewed-posts"))}};a.exports=d}),require.register("views/postList",function(e,t,a){"use strict";var r=React.createClass({displayName:"Post",render:function(){var e=this.props.post,t=moment(e.pubdate.toString());return this.props.pathNormalizer&&(e.dir="../../../../".concat(e.dir)),React.createElement("article",{className:"post"},React.createElement("a",{className:"post-wrapper",href:e.dir+e.name+".html"},React.createElement("img",{className:"post__cover",src:e.dir+e.name+".jpg",alt:e.title+" photo"}),React.createElement("p",{className:"post__location"},e.location),React.createElement("p",{className:"post__pubdate"},React.createElement("time",{className:"post_pubdate__time",dateTime:t.format()},React.createElement("span",{className:"post__pubdate__month"},t.format("MMM")),React.createElement("br",null),React.createElement("span",{className:"post__pubdate__day"},t.format("DD")))),React.createElement("h1",{className:"post__title"},e.title)))}}),s=React.createClass({displayName:"PostList",getInitialState:function(){return{posts:this.props.posts}},render:function(){var e=this,t=function(t){return React.createElement(r,{pathNormalizer:e.props.pathNormalizer,key:t.title+"-"+t.id,post:t})};return React.createElement("section",{className:"post-list-wrapper"},React.createElement("h2",{className:"sub-header"},React.createElement("span",null,this.props.listTitle)),this.props.posts.map(t))}});a.exports=s}),require.register("views/postView",function(e,t,a){"use strict";var r=t("model/post"),s=t("./postList"),i=function(){var e=location.pathname,t=e.lastIndexOf("/")+1;return e.substring(t).split(".")[0]}(),o=React.createClass({displayName:"PostContent",render:function(){var e=this.props.post,t=function(){return{__html:e.htmlContent}};return React.createElement("div",{className:"post-content"},React.createElement("header",{className:"post-content__header"},React.createElement("h2",null,e.title),React.createElement("span",{className:"post-content__detail"},e.location,React.createElement("time",{dateTime:e.pubdate.toString()},moment(e.pubdate.toString()).format("LL")))),React.createElement("img",{className:"post-content__image",src:e.name+".jpg",alt:e.title+" photo"}),React.createElement("section",{className:"post-content__text",dangerouslySetInnerHTML:t()}))}}),n=React.createClass({displayName:"MorePosts",loadedPostsState:function(){var e=function(e){return e.name!==i};return{posts:r.getAllSortedBy("most-viewed").slice(0,3).filter(e),listTitle:"most viewed photos"}},getInitialState:function(){return this.props.autoLoad?this.loadedPostsState():{posts:[],listTitle:""}},handleClick:function(){this.setState(this.loadedPostsState())},render:function(){var e=0!==this.state.posts.length,t=React.createElement("button",{className:"more-photos__button",onClick:this.handleClick},"more photos"),a=React.createElement(s,{pathNormalizer:!0,listTitle:this.state.listTitle,posts:this.state.posts});return React.createElement("div",{className:"more-photos"},e?null:t,e?a:null)}}),l=React.createClass({displayName:"PostView",render:function(){var e=window.innerWidth>1075;return React.createElement("div",null,React.createElement(o,{post:r.getByName(i)}),React.createElement(n,{autoLoad:e}))}});a.exports={init:function(){React.render(React.createElement(l,null),document.getElementById("post-container"))}}});