!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},a={},s={}.hasOwnProperty,o={},r=function(e,t){var a=0;t&&(t.indexOf(!1)&&(a="components/".length),t.indexOf("/",a)>0&&(t=t.substring(a,t.indexOf("/",a))));var s=o[e+"/index.js"]||o[t+"/deps/"+e+"/index.js"];return s?"components/"+s.substring(0,s.length-".js".length):e},n=function(){var e=/^\.\.?(\/|$)/;return function(t,a){var s,o,r=[];s=(e.test(a)?t+"/"+a:a).split("/");for(var n=0,i=s.length;i>n;n++)o=s[n],".."===o?r.pop():"."!==o&&""!==o&&r.push(o);return r.join("/")}}(),i=function(e){return e.split("/").slice(0,-1).join("/")},l=function(t){return function(a){var s=n(i(t),a);return e.require(s,t)}},c=function(e,t){var s={id:e,exports:{}};return a[e]=s,t(s.exports,l(e),s),s.exports},m=function(e,o){var i=n(e,".");if(null==o&&(o="/"),i=r(e,o),s.call(a,i))return a[i].exports;if(s.call(t,i))return c(i,t[i]);var l=n(i,"./index");if(s.call(a,l))return a[l].exports;if(s.call(t,l))return c(l,t[l]);throw new Error('Cannot find module "'+e+'" from "'+o+'"')};m.alias=function(e,t){o[t]=e},m.register=m.define=function(e,a){if("object"==typeof e)for(var o in e)s.call(e,o)&&(t[o]=e[o]);else t[e]=a},m.list=function(){var e=[];for(var a in t)s.call(t,a)&&e.push(a);return e},m.brunch=!0,e.require=m}}(),require.register("model/post",function(e,t,a){"use strict";var s=t("./posts"),o=function(e,t){return t.slice().sort(function(t,a){return t[e]>a[e]?1:t[e]<a[e]?-1:0})},r=function(e){return{"most-viewed":o("viewsRanking",e),latest:o("pubdate",e).reverse()}};a.exports={current:function(e){return{sortBy:function(t){return r(e)[t]}}},getAllSortedBy:function(e){return r(s)[e]},getByName:function(e){return s.filter(function(t){return t.name===e})[0]}}}),require.register("model/posts",function(e,t,a){"use strict";var s=function(e){var t=new Date(e);return t.setTime(t.getTime()+60*t.getTimezoneOffset()*1e3),t};a.exports=[{id:0,name:"o-almoco-e-a-baia",title:"O Almoço e a baía",dir:"posts/2015/05/22/",htmlContent:'<p>Não é difícil ver alguém que bate no peito e diz com maior orgulho Bitters health goth cardigan, vinyl listicle street art letterpress gastropub meggings Vice sartorial cred. Fap Shoreditch lumbersexual semiotics deep v mlkshk. Ethical sartorial pour-over artisan, chia typewriter cronut messenger bag single-origin coffee mlkshk Brooklyn. Raw denim cold-pressed McSweeney"s cardigan, blog put a bird on it meditation forage freegan bitters High Life dreamcatcher whatever. Swag asymmetrical cronut keffiyeh. Umami Odd Future Bushwick, pop-up artisan mustache paleo migas irony organic tote bag sartorial slow-carb. Direct trade retro chillwave sustainable street art, Vice sartorial.</p>',location:"São Francisco, EUA",pubdate:s("2015-05-22"),viewsRanking:1},{id:1,name:"origami-party",title:"Origami Party",dir:"posts/2015/04/13/",htmlContent:'<p>Bitters health goth cardigan,</p> <p>vinyl listicle street art letterpress gastropub meggings Vice sartorial cred. Fap Shoreditch lumbersexual semiotics deep v mlkshk. Ethical sartorial pour-over artisan, chia typewriter cronut messenger bag single-origin coffee mlkshk Brooklyn. Raw denim cold-pressed McSweeney"s cardigan, blog put a </p><p>bird on it meditation forage freegan bitters High Life dreamcatcher whatever. Swag asymmetrical cronut keffiyeh. Umami Odd Future Bushwick, pop-up artisan mustache paleo migas irony organic tote bag sartorial slow-carb. Direct trade retro chillwave sustainable street art, Vice sartorial.</p>',location:"Pune, India",pubdate:s("2015-04-13"),viewsRanking:3},{id:2,name:"flores-flutuantes",title:"Flores Flutuantes",dir:"posts/2015/10/17/",htmlContent:"<p>       Em frente um dos cartões postais mais famosos do mundo, um espelho d'água.       Flores parecem brotar dele, parecem estar soltas, dançando ao ritmo do vento na coluna d'água.       Centenas de pessoas tirando e posando para fotos nesse mesmo lugar que eu estava, porém,       a direção de suas câmeras era diferente da direção da minha.      </p><p>       O que chamava a atenção de tanta gente para o lado oposto era o letreiro gigante com os dizeres       <a class='post-content__link' href='https://www.google.com/search?q=iamsterdam&es_sm=119&source=lnms&tbm=isch&sa=X&biw=1280&bih=702' target='_blank'>       'I AMSTERDAM'</a> bem em frente ao <i>Rijksmuseum</i>.       Não que o letreiro não me encantasse, é bem bonito realmente, mas as cores vivas e quentes das flores       nesse espelho d'água quase que gritavam por um pouco de atenção naquele dia frio e de vento cortante.       Não pude resistir ao chamado delas e o que acabou acontecendo foi que não tenho nenhuma foto na frente do tal letreiro.       </p><p>       Fui embora dali, fiquei mais uns dias na cidade, mas fotografar as belas paisagens de Amsterdã       ficou um pouco mais difícil depois dessa foto. Nada conseguia trazer de novo esse sentimento de 'belo ignorado'       que essas flores me fizeram sentir.       </p>",location:"Amsterdã, Holanda",pubdate:s("2015-10-17"),viewsRanking:2}]}),require.register("model/tracker",function(e,t,a){"use strict";function s(e){var t=function(t){e.track(t)},a=function(e){var t=this;return{as:function(a){e.onclick=function(){t.track(a)}}}};return{track:t,trackElem:a,trackElems:function(e){var t=this;return{as:function(a){return Array.prototype.map.call(e,function(e){t.trackElem(e).as(a)}),{andIds:function(){Array.prototype.map.call(e,function(e){t.trackElem(e).as(a+e.dataset.trackIdentifier)})}}}}}}}a.exports=s}),require.register("views/components/postList",function(e,t,a){"use strict";var s=React.createClass({displayName:"Post",render:function(){moment.locale("pt-BR");var e=this.props.post,t=moment(e.pubdate.toString());return this.props.pathNormalizer&&(e.dir="../../../../".concat(e.dir)),React.createElement("article",{className:"post"},React.createElement("a",{className:"post-wrapper",href:e.dir+e.name+".html"},React.createElement("img",{className:"post__cover",srcSet:e.dir+e.name+"--large.jpg 1920w, "+e.dir+e.name+"--medium.jpg 1280w, "+e.dir+e.name+"--small.jpg 640w",sizes:"(max-width: 1075px) 490px, 930px",src:e.dir+e.name+"--medium.jpg",alt:e.title+" photo"}),React.createElement("p",{className:"post__location"},e.location),React.createElement("p",{className:"post__pubdate"},React.createElement("time",{className:"post_pubdate__time",dateTime:t.format()},React.createElement("span",{className:"post__pubdate__month"},t.format("MMM")),React.createElement("br",null),React.createElement("span",{className:"post__pubdate__day"},t.format("DD")))),React.createElement("h1",{className:"post__title"},e.title)))}}),o=React.createClass({displayName:"PostList",getInitialState:function(){return{posts:this.props.posts}},render:function(){var e=this,t=function(t){return React.createElement(s,{pathNormalizer:e.props.pathNormalizer,key:t.title+"-"+t.id,post:t})};return React.createElement("section",{className:"post-list-wrapper"},React.createElement("h2",{className:"sub-header"},React.createElement("span",null,this.props.listTitle)),this.props.posts.map(t))}});a.exports=o}),require.register("views/indexView",function(e,t,a){"use strict";var s=t("model/post"),o=t("./components/postList"),r=t("model/tracker"),n=3,i=React.createClass({displayName:"SortingOptions",handleClick:function(e){this.props.onSortingChange(e.target.dataset.sortingOption)},render:function(){var e="post-list__sorting",t="post-list__sorting";return"latest"===this.props.sortBy?e="post-list__sorting--active":t="post-list__sorting--active",React.createElement("ul",{className:"post-list"},React.createElement("li",{className:t},React.createElement("button",{onClick:this.handleClick,className:"post-list__button","data-track-identifier":"sort:most-viewed","data-sorting-option":"most-viewed"},"mais vistas")),React.createElement("li",{className:"post-list__sorting--separator"},"|"),React.createElement("li",{className:e},React.createElement("button",{onClick:this.handleClick,className:"post-list__button","data-track-identifier":"sort:latest","data-sorting-option":"latest"},"últimas")))}}),l=React.createClass({displayName:"LoadMorePosts",handleClick:function(){this.props.onLoadMoreClick()},render:function(){return React.createElement("div",{className:"load-more-posts"},React.createElement("button",{className:"load-more-posts__button",onClick:this.handleClick,"data-track-identifier":"load-more"},"carregar mais fotos"))}}),c=React.createClass({displayName:"PostsContainer",getInitialState:function(){var e=s.getAllSortedBy("latest"),t=e.length<n?e.length:n;return{sortBy:"latest",postsLoaded:t,allPostsLoaded:!1,posts:e.slice(0,t)}},handleSortingChange:function(e){this.setState({sortBy:e,posts:s.getAllSortedBy(e).slice(0,this.state.postsLoaded)})},handleLoadMorePosts:function(){if(!this.state.allPostsLoaded){var e,t,a=s.getAllSortedBy(this.state.sortBy);a.length>=this.state.postsLoaded+n?(e=this.state.postsLoaded+n,t=!1):(e=a.length,t=!0),this.setState({postsLoaded:e,posts:s.getAllSortedBy(this.state.sortBy).slice(0,e),allPostsLoaded:t})}},render:function(){var e=this.state.allPostsLoaded?null:React.createElement(l,{onLoadMoreClick:this.handleLoadMorePosts});return React.createElement("section",{className:"posts-container"},React.createElement(i,{sortBy:this.state.sortBy,onSortingChange:this.handleSortingChange}),React.createElement(o,{listTitle:"últimas fotos",posts:this.state.posts}),e)}}),m=React.createClass({displayName:"MostViewedPosts",shouldLoadMostViewedPosts:function(){return window.innerWidth>1075},getInitialState:function(){return{visible:this.shouldLoadMostViewedPosts()}},handleResize:function(e){this.setState({visible:this.shouldLoadMostViewedPosts()})},componentDidMount:function(){window.addEventListener("resize",this.handleResize)},componentWillUnmount:function(){window.removeEventListener("resize",this.handleResize)},render:function(){return this.state.visible?React.createElement(o,{listTitle:"fotos mais vistas",posts:s.getAllSortedBy("most-viewed").slice(0,2)}):null}}),d={trackEvents:function(e){e.track("photoblog:home:visit"),function(){var t=document.querySelectorAll("*[data-track-identifier]");e.trackElems(t).as("photoblog:home:").andIds()}(),function(){var t=document.querySelectorAll("#home-page-posts .post-wrapper");e.trackElems(t).as("photoblog:home:main-list:post")}(),function(){var t=document.querySelectorAll("#most-viewed-posts .post-wrapper");e.trackElems(t).as("photoblog:home:aside-list:most-viewed:post")}()},init:function(){React.render(React.createElement(c,null),document.getElementById("home-page-posts")),React.render(React.createElement(m,null),document.getElementById("most-viewed-posts")),this.trackEvents(new r(window.mixpanel))}};a.exports=d}),require.register("views/postView",function(e,t,a){"use strict";var s=t("model/post"),o=t("./components/postList"),r=t("model/tracker"),n=function(){var e=location.pathname,t=e.lastIndexOf("/")+1;return e.substring(t).split(".")[0]}(),i=React.createClass({displayName:"PostContent",render:function(){var e=this.props.post;moment.locale("pt-BR");var t=function(){return{__html:e.htmlContent}};return React.createElement("div",{className:"post-content"},React.createElement("header",{className:"post-content__header"},React.createElement("h2",null,e.title),React.createElement("span",{className:"post-content__detail"},e.location,React.createElement("time",{dateTime:e.pubdate.toString()},moment(e.pubdate.toString()).format("LL")))),React.createElement("img",{className:"post-content__image",srcSet:e.name+"--large.jpg 1920w, "+e.name+"--medium.jpg 1280w, "+e.name+"--small.jpg 640w",src:e.name+"--medium.jpg",alt:e.title+" photo"}),React.createElement("p",{className:"post-content__copyright"},'"',React.createElement("a",{href:e.name+"--medium.jpg"},e.title),'" por ',React.createElement("a",{href:"http://www.juniorales.com"},"Junior Ales")," /",React.createElement("a",{href:"http://creativecommons.org/licenses/by-sa/4.0/deed.pt_BR"}," CC BY-SA 4.0")),React.createElement("section",{className:"post-content__text",dangerouslySetInnerHTML:t()}))}}),l=React.createClass({displayName:"MorePosts",loadedPostsState:function(){var e=function(e){return e.name!==n};return{posts:s.getAllSortedBy("most-viewed").slice(0,3).filter(e),listTitle:"fotos mais vistas"}},getInitialState:function(){return this.props.autoLoad?this.loadedPostsState():{posts:[],listTitle:""}},handleClick:function(){this.setState(this.loadedPostsState())},render:function(){var e=0!==this.state.posts.length,t=React.createElement("button",{className:"more-photos__button","data-track-identifier":"load-more",onClick:this.handleClick},"mais fotos"),a=React.createElement(o,{pathNormalizer:!0,listTitle:this.state.listTitle,posts:this.state.posts});return React.createElement("div",{className:"more-photos"},e?null:t,e?a:null)}}),c=React.createClass({displayName:"PostView",render:function(){var e=window.innerWidth>1075;return React.createElement("div",null,React.createElement(i,{post:s.getByName(n)}),React.createElement(l,{autoLoad:e}))}});a.exports={trackEvents:function(e){e.track("photoblog:post:visit"),function(){var t=document.querySelectorAll("*[data-track-identifier]");e.trackElems(t).as("photoblog:post:").andIds()}(),function(){var t=document.querySelectorAll(".more-photos .post-wrapper");e.trackElems(t).as("photoblog:post:most-viewed:post")}()},init:function(){React.render(React.createElement(c,null),document.getElementById("post-container")),this.trackEvents(new r(window.mixpanel))}}});