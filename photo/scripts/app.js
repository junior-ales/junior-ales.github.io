!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},a={},s={}.hasOwnProperty,r={},o=function(e,t){var a=0;t&&(t.indexOf(!1)&&(a="components/".length),t.indexOf("/",a)>0&&(t=t.substring(a,t.indexOf("/",a))));var s=r[e+"/index.js"]||r[t+"/deps/"+e+"/index.js"];return s?"components/"+s.substring(0,s.length-".js".length):e},i=function(){var e=/^\.\.?(\/|$)/;return function(t,a){var s,r,o=[];s=(e.test(a)?t+"/"+a:a).split("/");for(var i=0,n=s.length;n>i;i++)r=s[i],".."===r?o.pop():"."!==r&&""!==r&&o.push(r);return o.join("/")}}(),n=function(e){return e.split("/").slice(0,-1).join("/")},l=function(t){return function(a){var s=i(n(t),a);return e.require(s,t)}},c=function(e,t){var s={id:e,exports:{}};return a[e]=s,t(s.exports,l(e),s),s.exports},m=function(e,r){var n=i(e,".");if(null==r&&(r="/"),n=o(e,r),s.call(a,n))return a[n].exports;if(s.call(t,n))return c(n,t[n]);var l=i(n,"./index");if(s.call(a,l))return a[l].exports;if(s.call(t,l))return c(l,t[l]);throw new Error('Cannot find module "'+e+'" from "'+r+'"')};m.alias=function(e,t){r[t]=e},m.register=m.define=function(e,a){if("object"==typeof e)for(var r in e)s.call(e,r)&&(t[r]=e[r]);else t[e]=a},m.list=function(){var e=[];for(var a in t)s.call(t,a)&&e.push(a);return e},m.brunch=!0,e.require=m}}(),require.register("model/post",function(e,t,a){"use strict";var s=t("./posts"),r=function(e,t){return t.slice().sort(function(t,a){return t[e]>a[e]?1:t[e]<a[e]?-1:0})},o=function(e){return{"most-viewed":r("viewsRanking",e),latest:r("pubdate",e).reverse()}};a.exports={current:function(e){return{sortBy:function(t){return o(e)[t]}}},getAllSortedBy:function(e){return o(s)[e]},getByName:function(e){return s.filter(function(t){return t.name===e})[0]}}}),require.register("model/posts",function(e,t,a){"use strict";a.exports=[{id:0,name:"o-almoco-e-a-baia",title:"O Almoço e a baía",dir:"posts/2015/05/22/",htmlContent:'<p>Não é difícil ver alguém que bate no peito e diz com maior orgulho Bitters health goth cardigan, vinyl listicle street art letterpress gastropub meggings Vice sartorial cred. Fap Shoreditch lumbersexual semiotics deep v mlkshk. Ethical sartorial pour-over artisan, chia typewriter cronut messenger bag single-origin coffee mlkshk Brooklyn. Raw denim cold-pressed McSweeney"s cardigan, blog put a bird on it meditation forage freegan bitters High Life dreamcatcher whatever. Swag asymmetrical cronut keffiyeh. Umami Odd Future Bushwick, pop-up artisan mustache paleo migas irony organic tote bag sartorial slow-carb. Direct trade retro chillwave sustainable street art, Vice sartorial.</p>',location:"São Francisco, EUA",pubdate:new Date("2015-05-23"),viewsRanking:1},{id:1,name:"origami-party",title:"Origami Party",dir:"posts/2015/04/13/",htmlContent:'<p>Bitters health goth cardigan,</p> <p>vinyl listicle street art letterpress gastropub meggings Vice sartorial cred. Fap Shoreditch lumbersexual semiotics deep v mlkshk. Ethical sartorial pour-over artisan, chia typewriter cronut messenger bag single-origin coffee mlkshk Brooklyn. Raw denim cold-pressed McSweeney"s cardigan, blog put a </p><p>bird on it meditation forage freegan bitters High Life dreamcatcher whatever. Swag asymmetrical cronut keffiyeh. Umami Odd Future Bushwick, pop-up artisan mustache paleo migas irony organic tote bag sartorial slow-carb. Direct trade retro chillwave sustainable street art, Vice sartorial.</p>',location:"Pune, India",pubdate:new Date("2015-04-14"),viewsRanking:3},{id:2,name:"flores-flutuantes",title:"Flores Flutuantes",dir:"posts/2015/07/17/",htmlContent:"<p>Essas foram as palavras de um colega numa despretensiosa pausa para um café no escritório que me fizeram refletir bastante. Por algumas horas fiquei me questionando 'será que ele está errado?'. Responder a essa pergunta me tomou algum tempo e ao final, a linha de raciocínio me pareceu mais interessante do que a resposta em si.</p> <p>Ele, assim como eu, é homem, branco, de classe média, empregado numa multinacional e teve tempo e apoio familiar suficientes para se preparar para o mercado de trabalho. As melhores oportunidades da nossa sociedade estão disponíveis para ele e para mim. Somos a minoria privilegiada desse país que reclama do imposto para trazer o eletrônico estrangeiro e do outro para fazer uma comprinha com cartão de crédito internacional.</p> <p>Reclamamos da dificuldade em achar alguém para limpar nossa casa, de como está cara a entrada da balada e de como não se fazem mais mulheres como antigamente.</p>",location:"Amsterdã, Holanda",pubdate:new Date("2015-07-18"),viewsRanking:2}]}),require.register("views/indexView",function(e,t,a){"use strict";var s=t("model/post"),r=t("./postList"),o=3,i=React.createClass({displayName:"SortingOptions",handleClick:function(e){this.props.onSortingChange(e.target.dataset.sortingOption)},render:function(){var e="post-list__sorting",t="post-list__sorting";return"latest"===this.props.sortBy?e="post-list__sorting--active":t="post-list__sorting--active",React.createElement("ul",{className:"post-list"},React.createElement("li",{className:t},React.createElement("button",{onClick:this.handleClick,className:"post-list__button","data-sorting-option":"most-viewed"},"mais vistas")),React.createElement("li",{className:"post-list__sorting--separator"},"|"),React.createElement("li",{className:e},React.createElement("button",{"data-sorting-option":"latest",onClick:this.handleClick,className:"post-list__button"},"últimas")))}}),n=React.createClass({displayName:"LoadMorePosts",handleClick:function(){this.props.onLoadMoreClick()},render:function(){return React.createElement("div",{className:"load-more-posts"},React.createElement("button",{className:"load-more-posts__button",onClick:this.handleClick},"carregar mais fotos"))}}),l=React.createClass({displayName:"PostsContainer",getInitialState:function(){var e=s.getAllSortedBy("latest"),t=e.length<o?e.length:o;return{sortBy:"latest",postsLoaded:t,allPostsLoaded:!1,posts:e.slice(0,t)}},handleSortingChange:function(e){this.setState({sortBy:e,posts:s.getAllSortedBy(e).slice(0,this.state.postsLoaded)})},handleLoadMorePosts:function(){if(!this.state.allPostsLoaded){var e,t,a=s.getAllSortedBy(this.state.sortBy);a.length>=this.state.postsLoaded+o?(e=this.state.postsLoaded+o,t=!1):(e=a.length,t=!0),this.setState({postsLoaded:e,posts:s.getAllSortedBy(this.state.sortBy).slice(0,e),allPostsLoaded:t})}},render:function(){var e=this.state.allPostsLoaded?null:React.createElement(n,{onLoadMoreClick:this.handleLoadMorePosts});return React.createElement("section",{className:"posts-container"},React.createElement(i,{sortBy:this.state.sortBy,onSortingChange:this.handleSortingChange}),React.createElement(r,{listTitle:"últimas fotos",posts:this.state.posts}),e)}}),c=React.createClass({displayName:"MostViewedPosts",shouldLoadMostViewedPosts:function(){return window.innerWidth>1075},getInitialState:function(){return{visible:this.shouldLoadMostViewedPosts()}},handleResize:function(e){this.setState({visible:this.shouldLoadMostViewedPosts()})},componentDidMount:function(){window.addEventListener("resize",this.handleResize)},componentWillUnmount:function(){window.removeEventListener("resize",this.handleResize)},render:function(){return this.state.visible?React.createElement(r,{listTitle:"fotos mais vistas",posts:s.getAllSortedBy("most-viewed").slice(0,2)}):null}}),m={init:function(){React.render(React.createElement(l,null),document.getElementById("home-page-posts")),React.render(React.createElement(c,null),document.getElementById("most-viewed-posts"))}};a.exports=m}),require.register("views/postList",function(e,t,a){"use strict";var s=React.createClass({displayName:"Post",render:function(){moment.locale("pt-BR");var e=this.props.post,t=moment(e.pubdate.toString());return this.props.pathNormalizer&&(e.dir="../../../../".concat(e.dir)),React.createElement("article",{className:"post"},React.createElement("a",{className:"post-wrapper",href:e.dir+e.name+".html"},React.createElement("img",{className:"post__cover",srcSet:e.dir+e.name+"--large.jpg 1920w, "+e.dir+e.name+"--medium.jpg 1280w, "+e.dir+e.name+"--small.jpg 640w",src:e.dir+e.name+"--medium.jpg",alt:e.title+" photo"}),React.createElement("p",{className:"post__location"},e.location),React.createElement("p",{className:"post__pubdate"},React.createElement("time",{className:"post_pubdate__time",dateTime:t.format()},React.createElement("span",{className:"post__pubdate__month"},t.format("MMM")),React.createElement("br",null),React.createElement("span",{className:"post__pubdate__day"},t.format("DD")))),React.createElement("h1",{className:"post__title"},e.title)))}}),r=React.createClass({displayName:"PostList",getInitialState:function(){return{posts:this.props.posts}},render:function(){var e=this,t=function(t){return React.createElement(s,{pathNormalizer:e.props.pathNormalizer,key:t.title+"-"+t.id,post:t})};return React.createElement("section",{className:"post-list-wrapper"},React.createElement("h2",{className:"sub-header"},React.createElement("span",null,this.props.listTitle)),this.props.posts.map(t))}});a.exports=r}),require.register("views/postView",function(e,t,a){"use strict";var s=t("model/post"),r=t("./postList"),o=function(){var e=location.pathname,t=e.lastIndexOf("/")+1;return e.substring(t).split(".")[0]}(),i=React.createClass({displayName:"PostContent",render:function(){var e=this.props.post;moment.locale("pt-BR");var t=function(){return{__html:e.htmlContent}};return React.createElement("div",{className:"post-content"},React.createElement("header",{className:"post-content__header"},React.createElement("h2",null,e.title),React.createElement("span",{className:"post-content__detail"},e.location,React.createElement("time",{dateTime:e.pubdate.toString()},moment(e.pubdate.toString()).format("LL")))),React.createElement("img",{className:"post-content__image",srcSet:e.name+"--large.jpg 1920w, "+e.name+"--medium.jpg 1280w, "+e.name+"--small.jpg 640w",src:e.name+"--medium.jpg",alt:e.title+" photo"}),React.createElement("section",{className:"post-content__text",dangerouslySetInnerHTML:t()}))}}),n=React.createClass({displayName:"MorePosts",loadedPostsState:function(){var e=function(e){return e.name!==o};return{posts:s.getAllSortedBy("most-viewed").slice(0,3).filter(e),listTitle:"fotos mais vistas"}},getInitialState:function(){return this.props.autoLoad?this.loadedPostsState():{posts:[],listTitle:""}},handleClick:function(){this.setState(this.loadedPostsState())},render:function(){var e=0!==this.state.posts.length,t=React.createElement("button",{className:"more-photos__button",onClick:this.handleClick},"mais fotos"),a=React.createElement(r,{pathNormalizer:!0,listTitle:this.state.listTitle,posts:this.state.posts});return React.createElement("div",{className:"more-photos"},e?null:t,e?a:null)}}),l=React.createClass({displayName:"PostView",render:function(){var e=window.innerWidth>1075;return React.createElement("div",null,React.createElement(i,{post:s.getByName(o)}),React.createElement(n,{autoLoad:e}))}});a.exports={init:function(){React.render(React.createElement(l,null),document.getElementById("post-container"))}}});